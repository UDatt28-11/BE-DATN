{
    "openapi": "3.0.0",
    "info": {
        "title": "DATN API",
        "description": "API for DATN project",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://127.0.0.1:8000",
            "description": "Local server"
        }
    ],
    "paths": {
        "/api/admin/login": {
            "post": {
                "tags": [
                    "Admin Auth"
                ],
                "summary": "Login admin",
                "description": "Authenticate admin and return a bearer token",
                "operationId": "02064f557af8baf1c24fd21c09b689f3",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "example": "admin@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "secret123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful login",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        },
                                        "user": {
                                            "type": "object"
                                        },
                                        "token": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - invalid credentials"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/admin/logout": {
            "post": {
                "tags": [
                    "Admin Auth"
                ],
                "summary": "Logout admin",
                "description": "Invalidate current admin access token",
                "operationId": "18687458536b64e1e1c3725706529bb2",
                "responses": {
                    "200": {
                        "description": "Logged out",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/{role}/google/redirect": {
            "get": {
                "tags": [
                    "Google Login"
                ],
                "summary": "Lấy URL đăng nhập Google (tự động redirect sang Google)",
                "description": "Trả về URL mà frontend dùng để redirect người dùng sang trang đăng nhập Google. Role có thể là user, staff hoặc admin.",
                "operationId": "d6a24013533955bf075ef7ec1f9f05f4",
                "parameters": [
                    {
                        "name": "role",
                        "in": "path",
                        "description": "Vai trò của người dùng (user, staff, admin)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "user",
                                "staff",
                                "admin"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "URL redirect thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "example": "https://accounts.google.com/o/oauth2/auth?..."
                                        },
                                        "role": {
                                            "type": "string",
                                            "example": "user"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Role không hợp lệ"
                    }
                }
            }
        },
        "/api/{role}/google/callback": {
            "get": {
                "tags": [
                    "Google Login"
                ],
                "summary": "Xử lý callback từ Google sau khi đăng nhập",
                "description": "Sau khi người dùng đăng nhập Google, Google sẽ redirect về URL này. Hệ thống sẽ tự động tạo tài khoản nếu chưa có, và trả về token đăng nhập.",
                "operationId": "eaddd784e4d989f51053d994aeb74fac",
                "parameters": [
                    {
                        "name": "role",
                        "in": "path",
                        "description": "Vai trò của người dùng (user, staff, admin)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "user",
                                "staff",
                                "admin"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Đăng nhập thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Đăng nhập Google thành công!"
                                        },
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Nguyễn Văn A"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "vana@gmail.com"
                                                },
                                                "role": {
                                                    "type": "string",
                                                    "example": "user"
                                                },
                                                "avatar": {
                                                    "type": "string",
                                                    "example": "https://lh3.googleusercontent.com/a/..."
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "2|Kq0d8gZyR3YhF..."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Role không hợp lệ"
                    },
                    "500": {
                        "description": "Lỗi hệ thống hoặc lỗi xác thực Google"
                    }
                }
            }
        },
        "/api/admin/booking-orders": {
            "get": {
                "tags": [
                    "Booking Orders"
                ],
                "summary": "Danh sách đơn đặt phòng",
                "description": "Lấy danh sách tất cả đơn đặt phòng với bộ lọc",
                "operationId": "getBookingOrders",
                "parameters": [
                    {
                        "name": "include",
                        "in": "query",
                        "description": "Include relationships (details, details.room, details.guests)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "details,details.room,details.guests"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter by status",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "pending",
                                "confirmed",
                                "completed",
                                "cancelled"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Danh sách đơn đặt phòng",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "order_code": {
                                                        "type": "string",
                                                        "example": "BK20240101120000001"
                                                    },
                                                    "customer_name": {
                                                        "type": "string",
                                                        "example": "Nguyễn Văn A"
                                                    },
                                                    "customer_phone": {
                                                        "type": "string",
                                                        "example": "0123456789"
                                                    },
                                                    "customer_email": {
                                                        "type": "string",
                                                        "example": "example@email.com"
                                                    },
                                                    "total_amount": {
                                                        "type": "number",
                                                        "example": 1000000
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "example": "pending"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Booking Orders"
                ],
                "summary": "Tạo đơn đặt phòng mới",
                "description": "Tạo đơn đặt phòng mới với chi tiết phòng",
                "operationId": "createBookingOrder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "customer_name",
                                    "customer_phone",
                                    "total_amount",
                                    "details"
                                ],
                                "properties": {
                                    "guest_id": {
                                        "type": "integer",
                                        "example": 1,
                                        "nullable": true
                                    },
                                    "customer_name": {
                                        "type": "string",
                                        "example": "Nguyễn Văn A"
                                    },
                                    "customer_phone": {
                                        "type": "string",
                                        "example": "0123456789"
                                    },
                                    "customer_email": {
                                        "type": "string",
                                        "example": "example@email.com",
                                        "nullable": true
                                    },
                                    "total_amount": {
                                        "type": "number",
                                        "example": 1000000
                                    },
                                    "payment_method": {
                                        "type": "string",
                                        "example": "cash",
                                        "nullable": true
                                    },
                                    "notes": {
                                        "type": "string",
                                        "example": "Ghi chú đặc biệt",
                                        "nullable": true
                                    },
                                    "details": {
                                        "type": "array",
                                        "items": {
                                            "required": [
                                                "room_id",
                                                "check_in_date",
                                                "check_out_date",
                                                "num_adults",
                                                "num_children",
                                                "sub_total"
                                            ],
                                            "properties": {
                                                "room_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "check_in_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2024-01-15"
                                                },
                                                "check_out_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2024-01-17"
                                                },
                                                "num_adults": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "num_children": {
                                                    "type": "integer",
                                                    "example": 0
                                                },
                                                "sub_total": {
                                                    "type": "number",
                                                    "example": 500000
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Tạo đặt phòng thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Tạo đặt phòng thành công"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/admin/booking-orders/{id}": {
            "get": {
                "tags": [
                    "Booking Orders"
                ],
                "summary": "Chi tiết đơn đặt phòng",
                "description": "Lấy thông tin chi tiết một đơn đặt phòng",
                "operationId": "getBookingOrder",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID của đơn đặt phòng",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "include",
                        "in": "query",
                        "description": "Include relationships (details, details.room, details.guests)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "details,details.room,details.guests"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chi tiết đơn đặt phòng",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "order_code": {
                                                    "type": "string",
                                                    "example": "BK20240101120000001"
                                                },
                                                "customer_name": {
                                                    "type": "string",
                                                    "example": "Nguyễn Văn A"
                                                },
                                                "customer_phone": {
                                                    "type": "string",
                                                    "example": "0123456789"
                                                },
                                                "total_amount": {
                                                    "type": "number",
                                                    "example": 1000000
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "pending"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Không tìm thấy đơn đặt phòng"
                    }
                }
            },
            "put": {
                "tags": [
                    "Booking Orders"
                ],
                "summary": "Cập nhật đơn đặt phòng",
                "description": "Cập nhật thông tin đơn đặt phòng (không thay đổi guest_id)",
                "operationId": "updateBookingOrder",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID của đơn đặt phòng",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "customer_name": {
                                        "type": "string",
                                        "example": "Nguyễn Văn A"
                                    },
                                    "customer_phone": {
                                        "type": "string",
                                        "example": "0123456789"
                                    },
                                    "customer_email": {
                                        "type": "string",
                                        "example": "example@email.com",
                                        "nullable": true
                                    },
                                    "total_amount": {
                                        "type": "number",
                                        "example": 1000000
                                    },
                                    "payment_method": {
                                        "type": "string",
                                        "example": "cash",
                                        "nullable": true
                                    },
                                    "notes": {
                                        "type": "string",
                                        "example": "Ghi chú đặc biệt",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Cập nhật đặt phòng thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Cập nhật đặt phòng thành công"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Không tìm thấy đơn đặt phòng"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Booking Orders"
                ],
                "summary": "Xóa đơn đặt phòng",
                "description": "Xóa đơn đặt phòng (chỉ cho phép với trạng thái pending hoặc cancelled)",
                "operationId": "deleteBookingOrder",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID của đơn đặt phòng",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Xóa đặt phòng thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Xóa đặt phòng thành công"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Không tìm thấy đơn đặt phòng"
                    },
                    "422": {
                        "description": "Không thể xóa đơn với trạng thái hiện tại"
                    }
                }
            }
        },
        "/api/admin/booking-orders/{id}/status": {
            "patch": {
                "tags": [
                    "Booking Orders"
                ],
                "summary": "Cập nhật trạng thái đơn",
                "description": "Cập nhật trạng thái đơn đặt phòng theo state machine",
                "operationId": "updateBookingOrderStatus",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID của đơn đặt phòng",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "status"
                                ],
                                "properties": {
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "pending",
                                            "confirmed",
                                            "completed",
                                            "cancelled"
                                        ],
                                        "example": "confirmed"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Cập nhật trạng thái thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "confirmed"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Trạng thái không hợp lệ"
                    }
                }
            }
        },
        "/api/invoices": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Danh sách hóa đơn",
                "description": "Lấy danh sách tất cả hóa đơn với hỗ trợ lọc, tìm kiếm và phân trang",
                "operationId": "getInvoices",
                "parameters": [
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Lọc theo trạng thái (pending, approved, cancelled)",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "payment_status",
                        "in": "query",
                        "description": "Lọc theo trạng thái thanh toán (paid, unpaid, overdue)",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Tìm kiếm theo mã hóa đơn",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "date_from",
                        "in": "query",
                        "description": "Lọc từ ngày (YYYY-MM-DD)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "description": "Lọc đến ngày (YYYY-MM-DD)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Trang (mặc định 1, 15 kết quả/trang)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Danh sách hóa đơn",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Tạo hóa đơn mới",
                "description": "Tạo hóa đơn mới trực tiếp (không từ đơn đặt phòng)",
                "operationId": "storeInvoice",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "booking_order_id",
                                    "issue_date",
                                    "due_date",
                                    "total_amount"
                                ],
                                "properties": {
                                    "booking_order_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "issue_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-11-03"
                                    },
                                    "due_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-11-10"
                                    },
                                    "total_amount": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 5000000
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "pending",
                                            "paid",
                                            "overdue",
                                            "cancelled"
                                        ]
                                    },
                                    "calculation_method": {
                                        "type": "string",
                                        "enum": [
                                            "automatic",
                                            "manual"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Hóa đơn được tạo thành công"
                    },
                    "400": {
                        "description": "Lỗi xác thực"
                    }
                }
            }
        },
        "/api/invoices/create-from-booking": {
            "post": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Tạo hóa đơn từ đơn đặt phòng",
                "description": "Tạo hóa đơn mới dựa trên đơn đặt phòng",
                "operationId": "createInvoiceFromBooking",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "booking_order_id"
                                ],
                                "properties": {
                                    "booking_order_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "due_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-12-20"
                                    },
                                    "notes": {
                                        "type": "string",
                                        "example": "Ghi chú hóa đơn"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Hóa đơn được tạo thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Lỗi xác thực"
                    }
                }
            }
        },
        "/api/invoices/{id}": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Chi tiết hóa đơn",
                "description": "Lấy thông tin chi tiết của một hóa đơn",
                "operationId": "getInvoice",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID hóa đơn",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chi tiết hóa đơn",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Hóa đơn không tìm thấy"
                    }
                }
            },
            "put": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Cập nhật hóa đơn",
                "description": "Cập nhật thông tin hóa đơn",
                "operationId": "updateInvoice",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "due_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "pending",
                                            "paid",
                                            "overdue",
                                            "cancelled"
                                        ]
                                    },
                                    "calculation_method": {
                                        "type": "string",
                                        "enum": [
                                            "automatic",
                                            "manual"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Cập nhật thành công"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Xóa hóa đơn",
                "description": "Xóa một hóa đơn (chỉ pending hoặc cancelled)",
                "operationId": "deleteInvoice",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Xóa thành công"
                    },
                    "400": {
                        "description": "Không thể xóa hóa đơn này"
                    }
                }
            }
        },
        "/api/invoices/{id}/mark-paid": {
            "patch": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Đánh dấu hóa đơn là đã thanh toán",
                "description": "Cập nhật trạng thái hóa đơn sang đã thanh toán",
                "operationId": "markInvoiceAsPaid",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "payment_method": {
                                        "type": "string",
                                        "example": "bank_transfer"
                                    },
                                    "payment_notes": {
                                        "type": "string",
                                        "example": "Thanh toán qua ngân hàng"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Cập nhật thành công"
                    }
                }
            }
        },
        "/api/invoices/{id}/status": {
            "patch": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Cập nhật trạng thái hóa đơn",
                "description": "Cập nhật trạng thái của hóa đơn",
                "operationId": "updateInvoiceStatus",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "status"
                                ],
                                "properties": {
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "pending",
                                            "paid",
                                            "overdue",
                                            "cancelled"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Cập nhật thành công"
                    }
                }
            }
        },
        "/api/invoices/statistics/overview": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Thống kê hóa đơn",
                "description": "Lấy thống kê về hóa đơn (số lượng, doanh thu)",
                "operationId": "getInvoiceStatistics",
                "responses": {
                    "200": {
                        "description": "Thống kê hóa đơn",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "total_invoices": {
                                                    "type": "integer"
                                                },
                                                "paid_invoices": {
                                                    "type": "integer"
                                                },
                                                "unpaid_invoices": {
                                                    "type": "integer"
                                                },
                                                "overdue_invoices": {
                                                    "type": "integer"
                                                },
                                                "total_revenue": {
                                                    "type": "number"
                                                },
                                                "pending_revenue": {
                                                    "type": "number"
                                                },
                                                "overdue_revenue": {
                                                    "type": "number"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/invoices/config/calculation": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Lấy cấu hình tính hóa đơn",
                "description": "Lấy cấu hình tính toán hóa đơn (thuế, phí...).",
                "operationId": "getCalculationConfig",
                "responses": {
                    "200": {
                        "description": "Cấu hình tính toán"
                    }
                }
            },
            "post": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Cập nhật cấu hình tính hóa đơn",
                "description": "Cập nhật cấu hình tính toán hóa đơn",
                "operationId": "setCalculationConfig",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "calculation_method": {
                                        "type": "string",
                                        "enum": [
                                            "automatic",
                                            "manual"
                                        ]
                                    },
                                    "auto_calculate": {
                                        "type": "boolean"
                                    },
                                    "tax_rate": {
                                        "type": "number",
                                        "example": 10
                                    },
                                    "service_charge_rate": {
                                        "type": "number",
                                        "example": 5
                                    },
                                    "late_fee_percent": {
                                        "type": "number",
                                        "example": 2
                                    },
                                    "late_fee_per_day": {
                                        "type": "number",
                                        "example": 50000
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Cập nhật thành công"
                    }
                }
            }
        },
        "/api/invoices/config/refund-policies": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Lấy các chính sách hoàn tiền",
                "description": "Lấy danh sách các chính sách hoàn tiền",
                "operationId": "getRefundPolicyConfig",
                "responses": {
                    "200": {
                        "description": "Danh sách chính sách hoàn tiền"
                    }
                }
            },
            "post": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Tạo chính sách hoàn tiền",
                "description": "Tạo chính sách hoàn tiền mới",
                "operationId": "createRefundPolicy",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "refund_percent",
                                    "days_before_checkin"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Hoàn 100%"
                                    },
                                    "refund_percent": {
                                        "type": "number",
                                        "example": 100
                                    },
                                    "days_before_checkin": {
                                        "type": "integer",
                                        "example": 7
                                    },
                                    "penalty_percent": {
                                        "type": "number",
                                        "example": 0
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Chính sách được tạo thành công"
                    }
                }
            }
        },
        "/api/invoices/config/refund-policies/{policyId}": {
            "put": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Cập nhật chính sách hoàn tiền",
                "description": "Cập nhật thông tin chính sách hoàn tiền",
                "operationId": "updateRefundPolicy",
                "parameters": [
                    {
                        "name": "policyId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Hoàn 100%"
                                    },
                                    "refund_percent": {
                                        "type": "number",
                                        "example": 100
                                    },
                                    "days_before_checkin": {
                                        "type": "integer",
                                        "example": 7
                                    },
                                    "penalty_percent": {
                                        "type": "number",
                                        "example": 0
                                    },
                                    "is_active": {
                                        "type": "boolean",
                                        "example": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Chính sách được cập nhật thành công"
                    }
                }
            }
        },
        "/api/invoices/{id}/discounts": {
            "post": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Áp dụng giảm giá cho hóa đơn",
                "description": "Áp dụng giảm giá (phần trăm hoặc số tiền cố định) cho hóa đơn",
                "operationId": "applyDiscount",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "discount_type",
                                    "discount_value"
                                ],
                                "properties": {
                                    "discount_type": {
                                        "type": "string",
                                        "enum": [
                                            "percentage",
                                            "fixed_amount"
                                        ]
                                    },
                                    "discount_value": {
                                        "type": "number",
                                        "example": 10
                                    },
                                    "reason": {
                                        "type": "string",
                                        "example": "Khuyến mãi đặc biệt"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Giảm giá được áp dụng"
                    }
                }
            }
        },
        "/api/invoices/{id}/discounts/{discountId}": {
            "delete": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Xóa giảm giá",
                "description": "Xóa giảm giá khỏi hóa đơn",
                "operationId": "removeDiscount",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "discountId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Giảm giá được xóa"
                    }
                }
            }
        },
        "/api/invoices/{id}/apply-refund-policy": {
            "post": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Áp dụng chính sách hoàn tiền",
                "description": "Áp dụng chính sách hoàn tiền cho hóa đơn",
                "operationId": "applyRefundPolicy",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "refund_policy_id"
                                ],
                                "properties": {
                                    "refund_policy_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Chính sách hoàn tiền được áp dụng"
                    }
                }
            }
        },
        "/api/invoices/{id}/split": {
            "post": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Tách hóa đơn",
                "description": "Tách hóa đơn thành nhiều hóa đơn",
                "operationId": "splitInvoice",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "items_for_new_invoice"
                                ],
                                "properties": {
                                    "items_for_new_invoice": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1,
                                            2,
                                            3
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Hóa đơn được tách thành công"
                    }
                }
            }
        },
        "/api/invoices/merge": {
            "post": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Gộp nhiều hóa đơn",
                "description": "Gộp nhiều hóa đơn thành một",
                "operationId": "mergeInvoices",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "invoice_ids",
                                    "target_invoice_id"
                                ],
                                "properties": {
                                    "invoice_ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1,
                                            2,
                                            3
                                        ]
                                    },
                                    "target_invoice_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Hóa đơn được gộp thành công"
                    }
                }
            }
        },
        "/api/invoices/{invoiceId}/items": {
            "get": {
                "tags": [
                    "Invoice Items"
                ],
                "summary": "Danh sách hạng mục hóa đơn",
                "description": "Lấy danh sách tất cả hạng mục trong một hóa đơn",
                "operationId": "getInvoiceItems",
                "parameters": [
                    {
                        "name": "invoiceId",
                        "in": "path",
                        "description": "ID của hóa đơn",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Danh sách hạng mục",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/invoices/{invoiceId}/items/penalty": {
            "post": {
                "tags": [
                    "Invoice Items"
                ],
                "summary": "Thêm phí phát sinh vào hóa đơn",
                "description": "Thêm phí phát sinh, phí hư hại vào hóa đơn",
                "operationId": "addPenaltyItem",
                "parameters": [
                    {
                        "name": "invoiceId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "description",
                                    "quantity",
                                    "unit_price"
                                ],
                                "properties": {
                                    "description": {
                                        "type": "string",
                                        "example": "Phí hư hại thiết bị"
                                    },
                                    "quantity": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "unit_price": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 500000
                                    },
                                    "item_type": {
                                        "type": "string",
                                        "enum": [
                                            "damage_fee",
                                            "other"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Phí được thêm thành công"
                    }
                }
            }
        },
        "/api/invoices/{invoiceId}/items/regular": {
            "get": {
                "tags": [
                    "Invoice Items"
                ],
                "summary": "Danh sách hạng mục thường trong hóa đơn",
                "description": "Lấy danh sách tất cả hạng mục thường (phòng, dịch vụ) trong một hóa đơn",
                "operationId": "getRegularItems",
                "parameters": [
                    {
                        "name": "invoiceId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Danh sách hạng mục thường",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Invoice Items"
                ],
                "summary": "Thêm hạng mục vào hóa đơn",
                "description": "Thêm hạng mục (phòng, dịch vụ, khác) vào hóa đơn",
                "operationId": "addRegularItem",
                "parameters": [
                    {
                        "name": "invoiceId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "item_name",
                                    "quantity",
                                    "unit_price",
                                    "item_type"
                                ],
                                "properties": {
                                    "item_name": {
                                        "type": "string",
                                        "example": "Phòng Deluxe"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "2 đêm"
                                    },
                                    "quantity": {
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "unit_price": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 1500000
                                    },
                                    "item_type": {
                                        "type": "string",
                                        "enum": [
                                            "room_charge",
                                            "service_charge",
                                            "damage_fee",
                                            "other"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Hạng mục được thêm thành công"
                    }
                }
            }
        },
        "/api/invoice-items/{id}": {
            "put": {
                "tags": [
                    "Invoice Items"
                ],
                "summary": "Cập nhật hạng mục hóa đơn",
                "description": "Cập nhật thông tin hạng mục hóa đơn",
                "operationId": "updateInvoiceItem",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "item_name": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "quantity": {
                                        "type": "integer"
                                    },
                                    "unit_price": {
                                        "type": "number"
                                    },
                                    "item_type": {
                                        "type": "string",
                                        "enum": [
                                            "room_charge",
                                            "service_charge",
                                            "damage_fee",
                                            "other"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Cập nhật thành công"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Invoice Items"
                ],
                "summary": "Xóa hạng mục hóa đơn",
                "description": "Xóa một hạng mục khỏi hóa đơn",
                "operationId": "deleteInvoiceItem",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Xóa thành công"
                    }
                }
            }
        },
        "/api/invoices/{invoiceId}/items/penalties": {
            "get": {
                "tags": [
                    "Invoice Items"
                ],
                "summary": "Danh sách phí phát sinh trong hóa đơn",
                "description": "Lấy danh sách tất cả phí phát sinh trong một hóa đơn",
                "operationId": "getPenaltyItems",
                "parameters": [
                    {
                        "name": "invoiceId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Danh sách phí phát sinh",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/promotions": {
            "get": {
                "tags": [
                    "Promotions"
                ],
                "summary": "Danh sách mã giảm giá",
                "description": "Lấy danh sách tất cả mã giảm giá với hỗ trợ lọc, tìm kiếm và phân trang",
                "operationId": "getPromotions",
                "parameters": [
                    {
                        "name": "property_id",
                        "in": "query",
                        "description": "Lọc theo property",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "is_active",
                        "in": "query",
                        "description": "Lọc theo trạng thái (true/false)",
                        "required": false,
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Tìm kiếm theo mã hoặc mô tả",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Trang (mặc định 1, 15 kết quả/trang)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Danh sách mã giảm giá",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Promotions"
                ],
                "summary": "Tạo mã giảm giá",
                "description": "Tạo mã giảm giá mới. Lưu ý: room_ids bắt buộc khi applicable_to='specific_rooms', room_type_ids bắt buộc khi applicable_to='specific_room_types'",
                "operationId": "createPromotion",
                "requestBody": {
                    "description": "Dữ liệu mã giảm giá",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "property_id",
                                    "code",
                                    "discount_type",
                                    "discount_value",
                                    "start_date",
                                    "end_date",
                                    "applicable_to"
                                ],
                                "properties": {
                                    "property_id": {
                                        "description": "ID property",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "code": {
                                        "description": "Mã giảm giá",
                                        "type": "string",
                                        "example": "SUMMER2024"
                                    },
                                    "description": {
                                        "description": "Mô tả mã giảm",
                                        "type": "string",
                                        "example": "Giảm giá mua hè 20%"
                                    },
                                    "discount_type": {
                                        "description": "Loại giảm giá",
                                        "type": "string",
                                        "enum": [
                                            "percentage",
                                            "fixed_amount"
                                        ],
                                        "example": "percentage"
                                    },
                                    "discount_value": {
                                        "description": "Giá trị giảm (%)",
                                        "type": "number",
                                        "example": 20
                                    },
                                    "max_discount_amount": {
                                        "description": "Giảm tối đa (VNĐ)",
                                        "type": "number",
                                        "example": 500
                                    },
                                    "min_purchase_amount": {
                                        "description": "Mua tối thiểu (VNĐ)",
                                        "type": "number",
                                        "example": 1000
                                    },
                                    "max_usage_limit": {
                                        "description": "Lượt dùng tối đa",
                                        "type": "integer",
                                        "example": 100
                                    },
                                    "max_usage_per_user": {
                                        "description": "Lượt dùng per user",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "start_date": {
                                        "description": "Ngày bắt đầu",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-10-04"
                                    },
                                    "end_date": {
                                        "description": "Ngày kết thúc",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2026-01-02"
                                    },
                                    "is_active": {
                                        "description": "Kích hoạt (0 hoặc 1)",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "applicable_to": {
                                        "description": "Áp dụng cho",
                                        "type": "string",
                                        "enum": [
                                            "all",
                                            "specific_rooms",
                                            "specific_room_types"
                                        ],
                                        "example": "all"
                                    },
                                    "room_ids": {
                                        "description": "IDs phòng (bắt buộc nếu applicable_to='specific_rooms', bỏ qua nếu applicable_to='all')",
                                        "type": "array",
                                        "items": {
                                            "description": "ID phòng",
                                            "type": "integer"
                                        }
                                    },
                                    "room_type_ids": {
                                        "description": "IDs loại phòng (bắt buộc nếu applicable_to='specific_room_types', bỏ qua nếu applicable_to='all')",
                                        "type": "array",
                                        "items": {
                                            "description": "ID loại phòng",
                                            "type": "integer"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Tạo thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mã giảm giá đã được tạo thành công"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "property_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "code": {
                                                    "type": "string",
                                                    "example": "SUMMER2024"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Giảm giá mua hè 20%"
                                                },
                                                "discount_type": {
                                                    "type": "string",
                                                    "example": "percentage"
                                                },
                                                "discount_value": {
                                                    "type": "number",
                                                    "example": 20
                                                },
                                                "max_discount_amount": {
                                                    "type": "number",
                                                    "example": 500
                                                },
                                                "min_purchase_amount": {
                                                    "type": "number",
                                                    "example": 1000
                                                },
                                                "max_usage_limit": {
                                                    "type": "integer",
                                                    "example": 100
                                                },
                                                "max_usage_per_user": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "usage_count": {
                                                    "type": "integer",
                                                    "example": 0
                                                },
                                                "start_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-10-04"
                                                },
                                                "end_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2026-01-02"
                                                },
                                                "is_active": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "applicable_to": {
                                                    "type": "string",
                                                    "example": "all"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error"
                    }
                }
            }
        },
        "/api/promotions/{id}": {
            "get": {
                "tags": [
                    "Promotions"
                ],
                "summary": "Chi tiết mã giảm giá",
                "description": "Lấy chi tiết một mã giảm giá",
                "operationId": "getPromotion",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID mã giảm giá",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chi tiết mã giảm giá",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "property_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "code": {
                                                    "type": "string",
                                                    "example": "SUMMER2024"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Giảm giá mua hè 20%"
                                                },
                                                "discount_type": {
                                                    "type": "string",
                                                    "example": "percentage"
                                                },
                                                "discount_value": {
                                                    "type": "number",
                                                    "example": 20
                                                },
                                                "max_discount_amount": {
                                                    "type": "number",
                                                    "example": 500
                                                },
                                                "min_purchase_amount": {
                                                    "type": "number",
                                                    "example": 1000
                                                },
                                                "max_usage_limit": {
                                                    "type": "integer",
                                                    "example": 100
                                                },
                                                "max_usage_per_user": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "usage_count": {
                                                    "type": "integer",
                                                    "example": 0
                                                },
                                                "start_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-10-04"
                                                },
                                                "end_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2026-01-02"
                                                },
                                                "is_active": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "applicable_to": {
                                                    "type": "string",
                                                    "example": "all"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Không tìm thấy"
                    }
                }
            },
            "put": {
                "tags": [
                    "Promotions"
                ],
                "summary": "Cập nhật mã giảm giá",
                "description": "Cập nhật thông tin mã giảm giá. Lưu ý: room_ids bắt buộc khi applicable_to='specific_rooms', room_type_ids bắt buộc khi applicable_to='specific_room_types'",
                "operationId": "updatePromotion",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID mã giảm giá",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "code": {
                                        "description": "Mã giảm giá (optional)",
                                        "type": "string",
                                        "example": "SUMMER2024"
                                    },
                                    "description": {
                                        "description": "Mô tả (optional)",
                                        "type": "string",
                                        "example": "Giảm giá mua hè 20%"
                                    },
                                    "discount_type": {
                                        "description": "Loại giảm (optional)",
                                        "type": "string",
                                        "enum": [
                                            "percentage",
                                            "fixed_amount"
                                        ]
                                    },
                                    "discount_value": {
                                        "description": "Giá trị giảm (optional)",
                                        "type": "number",
                                        "example": 20
                                    },
                                    "max_discount_amount": {
                                        "description": "Giảm tối đa (optional)",
                                        "type": "number",
                                        "example": 500
                                    },
                                    "min_purchase_amount": {
                                        "description": "Mua tối thiểu (optional)",
                                        "type": "number",
                                        "example": 1000
                                    },
                                    "max_usage_limit": {
                                        "description": "Lượt dùng tối đa (optional)",
                                        "type": "integer",
                                        "example": 100
                                    },
                                    "max_usage_per_user": {
                                        "description": "Lượt dùng per user (optional)",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "start_date": {
                                        "description": "Ngày bắt đầu (optional)",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-10-04"
                                    },
                                    "end_date": {
                                        "description": "Ngày kết thúc (optional)",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2026-01-02"
                                    },
                                    "is_active": {
                                        "description": "Kích hoạt (0 hoặc 1, optional)",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "applicable_to": {
                                        "description": "Áp dụng cho (optional)",
                                        "type": "string",
                                        "enum": [
                                            "all",
                                            "specific_rooms",
                                            "specific_room_types"
                                        ]
                                    },
                                    "room_ids": {
                                        "description": "IDs phòng (bắt buộc nếu applicable_to='specific_rooms', bỏ qua nếu applicable_to='all')",
                                        "type": "array",
                                        "items": {
                                            "description": "ID phòng",
                                            "type": "integer"
                                        }
                                    },
                                    "room_type_ids": {
                                        "description": "IDs loại phòng (bắt buộc nếu applicable_to='specific_room_types', bỏ qua nếu applicable_to='all')",
                                        "type": "array",
                                        "items": {
                                            "description": "ID loại phòng",
                                            "type": "integer"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Cập nhật thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Cập nhật thành công"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "property_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "code": {
                                                    "type": "string",
                                                    "example": "SUMMER2024"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Giảm giá mua hè 20%"
                                                },
                                                "discount_type": {
                                                    "type": "string",
                                                    "example": "percentage"
                                                },
                                                "discount_value": {
                                                    "type": "number",
                                                    "example": 20
                                                },
                                                "max_discount_amount": {
                                                    "type": "number",
                                                    "example": 500
                                                },
                                                "min_purchase_amount": {
                                                    "type": "number",
                                                    "example": 1000
                                                },
                                                "max_usage_limit": {
                                                    "type": "integer",
                                                    "example": 100
                                                },
                                                "max_usage_per_user": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "usage_count": {
                                                    "type": "integer",
                                                    "example": 0
                                                },
                                                "start_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-10-04"
                                                },
                                                "end_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2026-01-02"
                                                },
                                                "is_active": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "applicable_to": {
                                                    "type": "string",
                                                    "example": "all"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Promotions"
                ],
                "summary": "Xóa mã giảm giá",
                "description": "Xóa một mã giảm giá",
                "operationId": "deletePromotion",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID mã giảm giá",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Xóa thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Xóa thành công"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Không tìm thấy"
                    }
                }
            }
        },
        "/api/promotions/validate": {
            "post": {
                "tags": [
                    "Promotions"
                ],
                "summary": "Kiểm tra mã giảm giá",
                "description": "Kiểm tra mã giảm giá có hợp lệ không",
                "operationId": "validatePromotion",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "code",
                                    "total_amount"
                                ],
                                "properties": {
                                    "code": {
                                        "type": "string",
                                        "example": "SUMMER2025"
                                    },
                                    "total_amount": {
                                        "type": "number",
                                        "example": 5000000
                                    },
                                    "room_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "property_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Kết quả kiểm tra",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Mã không hợp lệ"
                    }
                }
            }
        },
        "/api/promotions/statistics/overview": {
            "get": {
                "tags": [
                    "Promotions"
                ],
                "summary": "Thống kê mã giảm giá",
                "description": "Lấy thống kê về mã giảm giá",
                "operationId": "getPromotionStats",
                "parameters": [
                    {
                        "name": "property_id",
                        "in": "query",
                        "description": "Lọc theo property",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Thống kê",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/promotions/active": {
            "get": {
                "tags": [
                    "Promotions"
                ],
                "summary": "Danh sách mã giảm giá đang hoạt động",
                "description": "Lấy danh sách mã giảm giá đang hoạt động",
                "operationId": "getActivePromotions",
                "parameters": [
                    {
                        "name": "property_id",
                        "in": "query",
                        "description": "Lọc theo property",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Trang (mặc định 1, 10 kết quả/trang)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Danh sách mã giảm giá đang hoạt động",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/reviews": {
            "get": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Danh sách đánh giá",
                "description": "Lấy danh sách tất cả đánh giá với hỗ trợ lọc, tìm kiếm và phân trang",
                "operationId": "getReviews",
                "parameters": [
                    {
                        "name": "property_id",
                        "in": "query",
                        "description": "Lọc theo property",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "room_id",
                        "in": "query",
                        "description": "Lọc theo phòng",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Lọc theo trạng thái (pending, approved, rejected)",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "rating",
                        "in": "query",
                        "description": "Lọc theo rating (1-5)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "verified_only",
                        "in": "query",
                        "description": "Chỉ lấy đánh giá từ khách đã booking",
                        "required": false,
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Tìm kiếm theo tiêu đề hoặc nội dung",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Trang (mặc định 1, 15 kết quả/trang)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Danh sách đánh giá",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Tạo đánh giá",
                "description": "Tạo đánh giá mới cho phòng hoặc property (Yêu cầu đăng nhập)",
                "operationId": "createReview",
                "requestBody": {
                    "description": "Dữ liệu đánh giá",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "booking_details_id",
                                    "rating",
                                    "title"
                                ],
                                "properties": {
                                    "booking_details_id": {
                                        "description": "ID chi tiết đặt phòng",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "rating": {
                                        "description": "Điểm đánh giá",
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1,
                                        "example": 5
                                    },
                                    "title": {
                                        "description": "Tiêu đề đánh giá",
                                        "type": "string",
                                        "example": "Tuyệt vời"
                                    },
                                    "comment": {
                                        "description": "Nội dung đánh giá",
                                        "type": "string",
                                        "example": "Phòng rất sạch, view đẹp"
                                    },
                                    "photos": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "photo1.jpg",
                                            "photo2.jpg"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Tạo thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Đánh giá đã được tạo"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - Cần Bearer token"
                    },
                    "422": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/reviews/{id}": {
            "get": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Chi tiết đánh giá",
                "description": "Lấy chi tiết một đánh giá",
                "operationId": "getReview",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID đánh giá",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chi tiết đánh giá",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Không tìm thấy"
                    }
                }
            },
            "put": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Cập nhật đánh giá",
                "description": "Cập nhật thông tin đánh giá",
                "operationId": "updateReview",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID đánh giá",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "rating": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1,
                                        "example": 4
                                    },
                                    "title": {
                                        "type": "string",
                                        "example": "Rất tốt"
                                    },
                                    "comment": {
                                        "type": "string",
                                        "example": "Phòng thoải mái"
                                    },
                                    "photos": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Cập nhật thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Cập nhật thành công"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Xóa đánh giá",
                "description": "Xóa một đánh giá",
                "operationId": "deleteReview",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID đánh giá",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Xóa thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Đánh giá đã được xóa"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Không tìm thấy"
                    }
                }
            }
        },
        "/api/reviews/{id}/approve": {
            "post": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Phê duyệt đánh giá",
                "description": "Phê duyệt một đánh giá chưa duyệt",
                "operationId": "approveReview",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID đánh giá",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "admin_notes": {
                                        "description": "Ghi chú của admin",
                                        "type": "string",
                                        "example": "Đánh giá hợp lệ"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Phê duyệt thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Đánh giá đã được phê duyệt"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/reviews/{id}/reject": {
            "post": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Từ chối đánh giá",
                "description": "Từ chối một đánh giá",
                "operationId": "rejectReview",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID đánh giá",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "rejection_reason": {
                                        "description": "Lý do từ chối",
                                        "type": "string",
                                        "example": "Vi phạm chính sách"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Từ chối thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Đánh giá đã bị từ chối"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/reviews/{id}/mark-helpful": {
            "post": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Đánh dấu hữu ích",
                "description": "Đánh dấu đánh giá này là hữu ích",
                "operationId": "markReviewHelpful",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID đánh giá",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Cảm ơn bạn đã đánh giá đánh giá này"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/reviews/{id}/mark-not-helpful": {
            "post": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Đánh dấu không hữu ích",
                "description": "Đánh dấu đánh giá này là không hữu ích",
                "operationId": "markReviewNotHelpful",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID đánh giá",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Thành công",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Cảm ơn bạn đã đánh giá đánh giá này"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/reviews/property/{propertyId}": {
            "get": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Đánh giá theo property",
                "description": "Lấy tất cả đánh giá của một property",
                "operationId": "getPropertyReviews",
                "parameters": [
                    {
                        "name": "propertyId",
                        "in": "path",
                        "description": "ID property",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "rating",
                        "in": "query",
                        "description": "Lọc theo rating (1-5)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Lọc theo trạng thái",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Trang",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Danh sách đánh giá",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/reviews/room/{roomId}": {
            "get": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Đánh giá theo phòng",
                "description": "Lấy tất cả đánh giá của một phòng",
                "operationId": "getRoomReviews",
                "parameters": [
                    {
                        "name": "roomId",
                        "in": "path",
                        "description": "ID phòng",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "rating",
                        "in": "query",
                        "description": "Lọc theo rating (1-5)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Lọc theo trạng thái",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Trang",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Danh sách đánh giá",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/reviews/statistics/overview": {
            "get": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Thống kê đánh giá",
                "description": "Lấy thống kê về đánh giá",
                "operationId": "getReviewStats",
                "parameters": [
                    {
                        "name": "property_id",
                        "in": "query",
                        "description": "Lọc theo property",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "date_from",
                        "in": "query",
                        "description": "Từ ngày (YYYY-MM-DD)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "description": "Đến ngày (YYYY-MM-DD)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Thống kê",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/rooms": {
            "get": {
                "tags": [
                    "Rooms"
                ],
                "summary": "Danh sách phòng",
                "description": "Lấy danh sách tất cả phòng với thông tin cơ bản",
                "operationId": "getRooms",
                "responses": {
                    "200": {
                        "description": "Danh sách phòng",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Phòng 101"
                                                    },
                                                    "room_type": {
                                                        "type": "string",
                                                        "example": "Standard",
                                                        "nullable": true
                                                    },
                                                    "capacity": {
                                                        "type": "integer",
                                                        "example": 2,
                                                        "nullable": true
                                                    },
                                                    "price_per_night": {
                                                        "type": "number",
                                                        "example": 500000
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "example": "available",
                                                        "nullable": true
                                                    },
                                                    "description": {
                                                        "type": "string",
                                                        "nullable": true
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/rooms/{id}": {
            "get": {
                "tags": [
                    "Rooms"
                ],
                "summary": "Chi tiết phòng",
                "description": "Lấy thông tin chi tiết một phòng",
                "operationId": "getRoom",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID của phòng",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chi tiết phòng",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Phòng 101"
                                                },
                                                "room_type": {
                                                    "type": "string",
                                                    "example": "Standard",
                                                    "nullable": true
                                                },
                                                "capacity": {
                                                    "type": "integer",
                                                    "example": 2,
                                                    "nullable": true
                                                },
                                                "price_per_night": {
                                                    "type": "number",
                                                    "example": 500000
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "available",
                                                    "nullable": true
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Không tìm thấy phòng"
                    }
                }
            }
        },
        "/api/admin/room-types": {
            "get": {
                "tags": [
                    "Room Types"
                ],
                "summary": "Danh sách loại phòng",
                "description": "Lấy danh sách tất cả loại phòng với thông tin cơ bản",
                "operationId": "getRoomTypes",
                "responses": {
                    "200": {
                        "description": "Danh sách loại phòng",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Standard Room"
                                                    },
                                                    "description": {
                                                        "type": "string",
                                                        "example": "Phòng tiêu chuẩn",
                                                        "nullable": true
                                                    },
                                                    "property_id": {
                                                        "type": "integer",
                                                        "example": 1,
                                                        "nullable": true
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/room-types/{id}": {
            "get": {
                "tags": [
                    "Room Types"
                ],
                "summary": "Chi tiết loại phòng",
                "description": "Lấy thông tin chi tiết một loại phòng",
                "operationId": "getRoomType",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID của loại phòng",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chi tiết loại phòng",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Standard Room"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Phòng tiêu chuẩn",
                                                    "nullable": true
                                                },
                                                "property_id": {
                                                    "type": "integer",
                                                    "example": 1,
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Không tìm thấy loại phòng"
                    }
                }
            }
        },
        "/api/staff/register": {
            "post": {
                "tags": [
                    "Staff Auth"
                ],
                "summary": "Register staff",
                "description": "Đăng ký tài khoản nhân viên",
                "operationId": "1c5ee8a1305d2747ef52d477d4cc072b",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "full_name": {
                                        "type": "string",
                                        "example": "Nguyen Van B"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "staff@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "secret123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "example": "secret123"
                                    },
                                    "phone_number": {
                                        "type": "string",
                                        "example": "0912345678"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Staff registered",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        },
                                        "user": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/staff/login": {
            "post": {
                "tags": [
                    "Staff Auth"
                ],
                "summary": "Login staff",
                "description": "Authenticate staff and return a bearer token",
                "operationId": "c21cef73761ad984e37cc37202d2d264",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "example": "staff@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "secret123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful login",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        },
                                        "user": {
                                            "type": "object"
                                        },
                                        "token": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - invalid credentials"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/staff/logout": {
            "post": {
                "tags": [
                    "Staff Auth"
                ],
                "summary": "Logout staff",
                "description": "Invalidate current staff access token",
                "operationId": "8872473e20787e41155f4ad616517fa5",
                "responses": {
                    "200": {
                        "description": "Logged out",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/supplies": {
            "get": {
                "tags": [
                    "Supplies"
                ],
                "summary": "Danh sách vật tư",
                "description": "Lấy danh sách tất cả vật tư với hỗ trợ lọc, tìm kiếm và phân trang",
                "operationId": "getSupplies",
                "parameters": [
                    {
                        "name": "category",
                        "in": "query",
                        "description": "Lọc theo danh mục",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Lọc theo trạng thái (active, inactive, discontinued)",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "stock_status",
                        "in": "query",
                        "description": "Lọc theo tình trạng kho (low_stock, out_of_stock, in_stock)",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Tìm kiếm theo tên",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Trang (15 kết quả/trang)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Danh sách vật tư",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Supplies"
                ],
                "summary": "Tạo vật tư mới",
                "description": "Tạo một vật tư mới với thông tin chi tiết",
                "operationId": "storeSupply",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "category",
                                    "unit",
                                    "current_stock",
                                    "min_stock_level",
                                    "unit_price"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Nước rửa bát"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Nước rửa bát chuyên dụng"
                                    },
                                    "category": {
                                        "type": "string",
                                        "example": "Dụng cụ vệ sinh"
                                    },
                                    "unit": {
                                        "type": "string",
                                        "example": "Chai"
                                    },
                                    "current_stock": {
                                        "type": "integer",
                                        "example": 50
                                    },
                                    "min_stock_level": {
                                        "type": "integer",
                                        "example": 10
                                    },
                                    "max_stock_level": {
                                        "type": "integer",
                                        "example": 100
                                    },
                                    "unit_price": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 50000
                                    },
                                    "supplier": {
                                        "type": "string",
                                        "example": "Công ty XYZ"
                                    },
                                    "supplier_contact": {
                                        "type": "string",
                                        "example": "0123456789"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "active",
                                            "inactive",
                                            "discontinued"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Vật tư được tạo thành công"
                    },
                    "400": {
                        "description": "Lỗi xác thực"
                    }
                }
            }
        },
        "/api/supplies/{id}": {
            "get": {
                "tags": [
                    "Supplies"
                ],
                "summary": "Chi tiết vật tư",
                "description": "Lấy thông tin chi tiết của một vật tư",
                "operationId": "getSupply",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chi tiết vật tư",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Vật tư không tìm thấy"
                    }
                }
            },
            "put": {
                "tags": [
                    "Supplies"
                ],
                "summary": "Cập nhật vật tư",
                "description": "Cập nhật thông tin vật tư",
                "operationId": "updateSupply",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "category": {
                                        "type": "string"
                                    },
                                    "unit": {
                                        "type": "string"
                                    },
                                    "min_stock_level": {
                                        "type": "integer"
                                    },
                                    "max_stock_level": {
                                        "type": "integer"
                                    },
                                    "unit_price": {
                                        "type": "number"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "active",
                                            "inactive",
                                            "discontinued"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Cập nhật thành công"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Supplies"
                ],
                "summary": "Xóa vật tư",
                "description": "Xóa một vật tư",
                "operationId": "deleteSupply",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Xóa thành công"
                    },
                    "400": {
                        "description": "Không thể xóa vật tư này"
                    }
                }
            }
        },
        "/api/supplies/status/low-stock": {
            "get": {
                "tags": [
                    "Supplies"
                ],
                "summary": "Danh sách vật tư cạn kiệt",
                "description": "Lấy danh sách vật tư có số lượng cạn kiệt",
                "operationId": "getLowStockItems",
                "responses": {
                    "200": {
                        "description": "Danh sách vật tư cạn kiệt",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/supplies/status/out-of-stock": {
            "get": {
                "tags": [
                    "Supplies"
                ],
                "summary": "Danh sách vật tư hết hàng",
                "description": "Lấy danh sách vật tư đã hết hàng",
                "operationId": "getOutOfStockItems",
                "responses": {
                    "200": {
                        "description": "Danh sách vật tư hết hàng",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/supplies/{id}/adjust-stock": {
            "patch": {
                "tags": [
                    "Supplies"
                ],
                "summary": "Điều chỉnh số lượng vật tư",
                "description": "Điều chỉnh (nhập, xuất, điều chỉnh) số lượng vật tư",
                "operationId": "adjustStock",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "action_type",
                                    "quantity",
                                    "reason"
                                ],
                                "properties": {
                                    "action_type": {
                                        "type": "string",
                                        "enum": [
                                            "in",
                                            "out",
                                            "adjustment"
                                        ]
                                    },
                                    "quantity": {
                                        "type": "integer",
                                        "example": 10
                                    },
                                    "reason": {
                                        "type": "string",
                                        "example": "Kiểm kho định kỳ"
                                    },
                                    "notes": {
                                        "type": "string",
                                        "example": "Ghi chú thêm"
                                    },
                                    "reference_type": {
                                        "type": "string"
                                    },
                                    "reference_id": {
                                        "type": "integer"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Điều chỉnh thành công"
                    }
                }
            }
        },
        "/api/supplies/statistics/overview": {
            "get": {
                "tags": [
                    "Supplies"
                ],
                "summary": "Thống kê vật tư",
                "description": "Lấy thống kê về vật tư (số lượng, giá trị)",
                "operationId": "getSupplyStatistics",
                "responses": {
                    "200": {
                        "description": "Thống kê vật tư",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "total_supplies": {
                                                    "type": "integer"
                                                },
                                                "active_supplies": {
                                                    "type": "integer"
                                                },
                                                "low_stock_count": {
                                                    "type": "integer"
                                                },
                                                "out_of_stock_count": {
                                                    "type": "integer"
                                                },
                                                "total_value": {
                                                    "type": "number"
                                                },
                                                "categories": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/supply-logs": {
            "get": {
                "tags": [
                    "Supply Logs"
                ],
                "summary": "Danh sách lịch sử vật tư",
                "description": "Lấy danh sách tất cả lịch sử vật tư (nhập, xuất, điều chỉnh) với hỗ trợ lọc",
                "operationId": "getSupplyLogs",
                "parameters": [
                    {
                        "name": "action_type",
                        "in": "query",
                        "description": "Lọc theo loại hành động (in, out, adjustment)",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "supply_id",
                        "in": "query",
                        "description": "Lọc theo ID vật tư",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "performed_by",
                        "in": "query",
                        "description": "Lọc theo người thực hiện",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "date_from",
                        "in": "query",
                        "description": "Lọc từ ngày (YYYY-MM-DD)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "description": "Lọc đến ngày (YYYY-MM-DD)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Trang (20 kết quả/trang)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Danh sách lịch sử vật tư",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/supply-logs/{id}": {
            "get": {
                "tags": [
                    "Supply Logs"
                ],
                "summary": "Chi tiết lịch sử vật tư",
                "description": "Lấy thông tin chi tiết của một bản ghi lịch sử vật tư",
                "operationId": "getSupplyLog",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chi tiết lịch sử vật tư",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/supply-logs/supply/{supplyId}": {
            "get": {
                "tags": [
                    "Supply Logs"
                ],
                "summary": "Lịch sử vật tư theo ID",
                "description": "Lấy toàn bộ lịch sử nhập/xuất/điều chỉnh của một vật tư",
                "operationId": "getSupplyHistoryLogs",
                "parameters": [
                    {
                        "name": "supplyId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lịch sử vật tư",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/supply-logs/activities/recent": {
            "get": {
                "tags": [
                    "Supply Logs"
                ],
                "summary": "Hoạt động vật tư gần đây",
                "description": "Lấy danh sách hoạt động vật tư gần đây nhất",
                "operationId": "getRecentActivities",
                "parameters": [
                    {
                        "name": "limit",
                        "in": "query",
                        "description": "Số bản ghi tối đa (mặc định 10)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 10
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Hoạt động gần đây",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/supply-logs/summary/movement": {
            "get": {
                "tags": [
                    "Supply Logs"
                ],
                "summary": "Tóm tắt vận động vật tư",
                "description": "Lấy tóm tắt vận động vật tư (nhập, xuất, điều chỉnh) theo khoảng thời gian",
                "operationId": "getMovementSummary",
                "parameters": [
                    {
                        "name": "date_from",
                        "in": "query",
                        "description": "Từ ngày (YYYY-MM-DD)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "description": "Đến ngày (YYYY-MM-DD)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tóm tắt vận động",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "total_inbound": {
                                                    "type": "integer"
                                                },
                                                "total_outbound": {
                                                    "type": "integer"
                                                },
                                                "total_adjustments": {
                                                    "type": "integer"
                                                },
                                                "total_transfers": {
                                                    "type": "integer"
                                                },
                                                "inbound_value": {
                                                    "type": "number"
                                                },
                                                "outbound_value": {
                                                    "type": "number"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/users": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "List users",
                "description": "List users with optional filters.",
                "operationId": "9f1772c87b85e5a1504a6f99a9e19958",
                "parameters": [
                    {
                        "name": "role",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "admin",
                                "staff",
                                "user"
                            ]
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "active",
                                "locked"
                            ]
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Search by name or email",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "minimum": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Users"
                ],
                "summary": "Create user",
                "description": "Create a new user.",
                "operationId": "61c04971ad8d855e30b1f250b5f03533",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "full_name",
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "full_name": {
                                        "type": "string",
                                        "example": "Nguyen Van A"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "user@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "secret123"
                                    },
                                    "phone_number": {
                                        "type": "string",
                                        "example": "0901234567"
                                    },
                                    "avatar_url": {
                                        "type": "string",
                                        "example": "https://..."
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "active",
                                            "locked"
                                        ],
                                        "example": "active"
                                    },
                                    "date_of_birth": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "1999-01-01"
                                    },
                                    "gender": {
                                        "type": "string",
                                        "enum": [
                                            "male",
                                            "female",
                                            "other"
                                        ]
                                    },
                                    "address": {
                                        "type": "string"
                                    },
                                    "preferred_language": {
                                        "type": "string",
                                        "example": "vi"
                                    },
                                    "google_id": {
                                        "type": "string"
                                    },
                                    "facebook_id": {
                                        "type": "string"
                                    },
                                    "role": {
                                        "type": "string",
                                        "enum": [
                                            "admin",
                                            "staff",
                                            "user"
                                        ],
                                        "example": "user"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/{id}": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Get user detail",
                "description": "Get user detail by ID.",
                "operationId": "abcbe603fd952364c28b9b597a35077f",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Users"
                ],
                "summary": "Update user",
                "description": "Update an existing user.",
                "operationId": "1ba9ee6ad863d2bc4e7596ff07c232f8",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "full_name": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string"
                                    },
                                    "password": {
                                        "type": "string"
                                    },
                                    "phone_number": {
                                        "type": "string"
                                    },
                                    "avatar_url": {
                                        "type": "string"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "active",
                                            "locked"
                                        ]
                                    },
                                    "date_of_birth": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "gender": {
                                        "type": "string",
                                        "enum": [
                                            "male",
                                            "female",
                                            "other"
                                        ]
                                    },
                                    "address": {
                                        "type": "string"
                                    },
                                    "preferred_language": {
                                        "type": "string"
                                    },
                                    "google_id": {
                                        "type": "string"
                                    },
                                    "facebook_id": {
                                        "type": "string"
                                    },
                                    "role": {
                                        "type": "string",
                                        "enum": [
                                            "admin",
                                            "staff",
                                            "user"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Users"
                ],
                "summary": "Delete user",
                "description": "Delete a user.",
                "operationId": "a20b5189a56dbcca1405a516896b98f9",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/{id}/status": {
            "patch": {
                "tags": [
                    "Users"
                ],
                "summary": "Update user status",
                "description": "Update user status.",
                "operationId": "dbeb2c2c57efbe532e829b8fe59a0f31",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "status"
                                ],
                                "properties": {
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "active",
                                            "locked"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/{id}/role": {
            "patch": {
                "tags": [
                    "Users"
                ],
                "summary": "Update user role",
                "description": "Update user role.",
                "operationId": "3af8d2f0e477e0fae1fc208f83bc70da",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "role"
                                ],
                                "properties": {
                                    "role": {
                                        "type": "string",
                                        "enum": [
                                            "admin",
                                            "staff",
                                            "user"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/user/register": {
            "post": {
                "tags": [
                    "User Auth"
                ],
                "summary": "Register a new user",
                "operationId": "797719db7fc6fd52f9b242f4aae9fbc0",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "full_name": {
                                        "type": "string",
                                        "example": "Nguyen Van A"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "user@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "secret123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "example": "secret123"
                                    },
                                    "phone_number": {
                                        "type": "string",
                                        "example": "0912345678"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User registered",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        },
                                        "user": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/user/login": {
            "post": {
                "tags": [
                    "User Auth"
                ],
                "summary": "User login",
                "operationId": "2f17cb8a1efc5b9a7c772afe77354b8d",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "example": "user@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "secret123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful login",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        },
                                        "user": {
                                            "type": "object"
                                        },
                                        "token": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - invalid credentials"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/user/logout": {
            "post": {
                "tags": [
                    "User Auth"
                ],
                "summary": "Logout user",
                "description": "Invalidate current access token",
                "operationId": "5f31405506572410baee3da0e578e588",
                "responses": {
                    "200": {
                        "description": "Logged out",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/user/forgot-password": {
            "post": {
                "tags": [
                    "User Auth"
                ],
                "summary": "Gửi email chứa liên kết đặt lại mật khẩu",
                "description": "Người dùng nhập email, hệ thống sẽ gửi một liên kết đặt lại mật khẩu có chứa token hợp lệ qua email.",
                "operationId": "3bf0ede80ef09bc9d356e6563e667022",
                "parameters": [
                    {
                        "name": "Accept",
                        "in": "header",
                        "description": "Định dạng phản hồi, luôn là application/json",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "default": "application/json"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Email người dùng cần khôi phục mật khẩu",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "user@example.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Email khôi phục mật khẩu đã được gửi thành công."
                    },
                    "422": {
                        "description": "Email không tồn tại hoặc không hợp lệ."
                    },
                    "500": {
                        "description": "Lỗi hệ thống hoặc lỗi khi gửi email."
                    }
                }
            }
        },
        "/api/user/reset-password": {
            "post": {
                "tags": [
                    "User Auth"
                ],
                "summary": "Đặt lại mật khẩu bằng token",
                "description": "Người dùng gửi token + email + mật khẩu mới để đặt lại mật khẩu.",
                "operationId": "71c0e3259bb3f4d4bafa8265740fe823",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "token",
                                    "email",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "token": {
                                        "type": "string",
                                        "example": "abc123"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "user@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "newpassword"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "example": "newpassword"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Đặt lại mật khẩu thành công."
                    },
                    "400": {
                        "description": "Token không hợp lệ hoặc đã hết hạn."
                    },
                    "422": {
                        "description": "Dữ liệu không hợp lệ."
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "description": "Login with username and password to get the authentication token",
                "name": "Token based based security",
                "in": "header",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            },
            "sanctum": {
                "type": "apiKey",
                "description": "Nhập token dạng: Bearer {token}",
                "name": "Authorization",
                "in": "header"
            }
        }
    },
    "tags": [
        {
            "name": "Google Login",
            "description": "Đăng nhập và đăng ký bằng tài khoản Google cho các vai trò khác nhau (user, staff, admin)"
        },
        {
            "name": "Booking Orders",
            "description": "API Endpoints for Booking Order Management"
        },
        {
            "name": "Invoices",
            "description": "API Endpoints for Invoice Management"
        },
        {
            "name": "Invoice Items",
            "description": "API Endpoints for Invoice Item Management"
        },
        {
            "name": "Promotions",
            "description": "API Endpoints for Promotion Management"
        },
        {
            "name": "Reviews",
            "description": "API Endpoints for Review Management"
        },
        {
            "name": "Rooms",
            "description": "API Endpoints for Room Management"
        },
        {
            "name": "Room Types",
            "description": "API Endpoints for Room Type Management"
        },
        {
            "name": "Supplies",
            "description": "API Endpoints for Supply Management"
        },
        {
            "name": "Supply Logs",
            "description": "API Endpoints for Supply Log Management"
        },
        {
            "name": "Users",
            "description": "User management APIs"
        },
        {
            "name": "Admin Auth",
            "description": "Admin Auth"
        },
        {
            "name": "Staff Auth",
            "description": "Staff Auth"
        },
        {
            "name": "User Auth",
            "description": "User Auth"
        }
    ],
    "security": [
        {
            "sanctum": []
        }
    ]
}